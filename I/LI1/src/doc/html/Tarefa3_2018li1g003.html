<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa3_2018li1g003</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Tarefa3_2018li1g003.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa3_2018li1g003</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Testes</a></li><li><a href="#g:2">Fun&#231;&#245;es principais da Tarefa 3.</a><ul><li><a href="#g:3"><code>comprime</code></a></li><li><a href="#g:4"><code>descomprime</code></a></li></ul></li><li><a href="#g:5">MAPAS</a></li><li><a href="#g:6">JOGADORES</a></li><li><a href="#g:7">DISPAROS</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo define fun&#231;&#245;es comuns da Tarefa 3 do trabalho pr&#225;tico.</p><h1>Tarefa 3 - Comprimir o estado do jogo</h1><h2>Introdu&#231;&#227;o</h2><p>O principal desafio desta Tarefa era conseguir implementar um mecanismo de compress&#227;o/descompress&#227;o 
  em virtude de poupar caracteres e, consequentemente, espa&#231;o em disco na grava&#231;&#227;o do jogo.</p><h2>Objetivos</h2><p>O objetivo final era a implementa&#231;&#227;o das fun&#231;&#245;es: <code><a href="Tarefa3_2018li1g003.html#v:comprime">comprime</a></code> e <code><a href="Tarefa3_2018li1g003.html#v:descomprime">descomprime</a></code>.</p><h2>Estrat&#233;gias Utilizadas</h2><ul><li><strong>Fun&#231;&#245;es auxiliares</strong> :
  Uso de Fun&#231;&#245;es auxiliares agrupadas em categorias: Mapas, Jogadores ou Disparos. Com o objetivo de simplificar
  a conversao de Estado para String e vice-versa.</li></ul><ul><li><strong>Tabela ASCII</strong> :
  Utiliza&#231;&#227;o de caracteres da Tabela ASCII com o objetivo de minimizar o espa&#231;o ocupado em disco.</li></ul><h2>Discus&#227;o e Conclus&#227;o</h2><p>Os resultados obtidos, ou seja, <strong>Taxa de Compress&#227;o 86,59%-93,23%</strong>, foram alcan&#231;ados atrav&#233;s das fun&#231;&#245;es principais: <code><a href="Tarefa3_2018li1g003.html#v:comprime">comprime</a></code> e <code><a href="Tarefa3_2018li1g003.html#v:descomprime">descomprime</a></code>.
  Com base na efic&#225;cia da Taxa de Compress&#227;o podemos constatar o bom funcionamento das fun&#231;&#245;es.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:testesT3">testesT3</a> :: [<a href="LI11819.html#t:Estado">Estado</a>]</li><li class="src short"><a href="#v:omapa0">omapa0</a> :: [[<a href="LI11819.html#t:Peca">Peca</a>]]</li><li class="src short"><a href="#v:comprime">comprime</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; String</li><li class="src short"><a href="#v:descomprime">descomprime</a> :: String -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:auxComprimeMapa1">auxComprimeMapa1</a> :: <a href="LI11819.html#t:Peca">Peca</a> -&gt; Char</li><li class="src short"><a href="#v:auxDescomprimeMapa1">auxDescomprimeMapa1</a> :: Char -&gt; <a href="LI11819.html#t:Peca">Peca</a></li><li class="src short"><a href="#v:auxComprimeMapa2">auxComprimeMapa2</a> :: [<a href="LI11819.html#t:Peca">Peca</a>] -&gt; String</li><li class="src short"><a href="#v:auxDescomprimeMapa2">auxDescomprimeMapa2</a> :: String -&gt; [<a href="LI11819.html#t:Peca">Peca</a>]</li><li class="src short"><a href="#v:auxComprimeMapa3">auxComprimeMapa3</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; String</li><li class="src short"><a href="#v:tira1ocurrencia">tira1ocurrencia</a> :: Char -&gt; String -&gt; String</li><li class="src short"><a href="#v:auxDescomprimeMapa3">auxDescomprimeMapa3</a> :: String -&gt; <a href="LI11819.html#t:Mapa">Mapa</a></li><li class="src short"><a href="#v:auxComprimeJog1">auxComprimeJog1</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; String</li><li class="src short"><a href="#v:auxDescomprimeJog1">auxDescomprimeJog1</a> :: String -&gt; <a href="LI11819.html#t:Jogador">Jogador</a></li><li class="src short"><a href="#v:auxComprimeJog2">auxComprimeJog2</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; String</li><li class="src short"><a href="#v:auxDescomprimeJog2">auxDescomprimeJog2</a> :: String -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</li><li class="src short"><a href="#v:auxComprimeDisp1">auxComprimeDisp1</a> :: <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; String</li><li class="src short"><a href="#v:tiratudopara1">tiratudopara1</a> :: Char -&gt; String -&gt; String</li><li class="src short"><a href="#v:descobre">descobre</a> :: String -&gt; Int</li><li class="src short"><a href="#v:getDir">getDir</a> :: String -&gt; <a href="LI11819.html#t:Direcao">Direcao</a></li><li class="src short"><a href="#v:auxDescomprimeDisp1">auxDescomprimeDisp1</a> :: String -&gt; <a href="LI11819.html#t:Disparo">Disparo</a></li><li class="src short"><a href="#v:auxComprimeDisp2">auxComprimeDisp2</a> :: [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; String</li><li class="src short"><a href="#v:auxDescomprimeDisp2">auxDescomprimeDisp2</a> :: String -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</li></ul></div><div id="interface"><h1 id="g:1">Testes</h1><div class="top"><p class="src"><a id="v:testesT3" class="def">testesT3</a> :: [<a href="LI11819.html#t:Estado">Estado</a>] <a href="#v:testesT3" class="selflink">#</a></p><div class="doc"><p>Testes unit&#225;rios da Tarefa 3.</p><p>Cada teste &#233; um <code><a href="LI11819.html#t:Estado">Estado</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:omapa0" class="def">omapa0</a> :: [[<a href="LI11819.html#t:Peca">Peca</a>]] <a href="#v:omapa0" class="selflink">#</a></p><div class="doc"><p><code><a href="LI11819.html#t:Mapa">Mapa</a></code> colocado deste modo para facilitar leitura de <code><a href="Tarefa3_2018li1g003.html#v:testesT3">testesT3</a></code>.</p></div></div><h1 id="g:2">Fun&#231;&#245;es principais da Tarefa 3.</h1><h2 id="g:3"><code><a href="Tarefa3_2018li1g003.html#v:comprime">comprime</a></code></h2><div class="top"><p class="src"><a id="v:comprime" class="def">comprime</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; String <a href="#v:comprime" class="selflink">#</a></p><div class="doc"><p>Comprime um <code><a href="LI11819.html#t:Estado">Estado</a></code> para formato textual.</p><p><strong>NB:</strong> A fun&#231;&#227;o <code>show</code> representa um <code><a href="LI11819.html#t:Estado">Estado</a></code> num formato textual facilmente leg&#237;vel mas extenso.</p><p><strong>NB:</strong> Uma boa solu&#231;&#227;o deve representar o <code><a href="LI11819.html#t:Estado">Estado</a></code> dado no m&#237;nimo n&#250;mero de caracteres poss&#237;vel.</p></div></div><h2 id="g:4"><code><a href="Tarefa3_2018li1g003.html#v:descomprime">descomprime</a></code></h2><div class="top"><p class="src"><a id="v:descomprime" class="def">descomprime</a> :: String -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:descomprime" class="selflink">#</a></p><div class="doc"><p>Descomprime um <code><a href="LI11819.html#t:Estado">Estado</a></code> no formato textual utilizado pela fun&#231;&#227;o <code><a href="Tarefa3_2018li1g003.html#v:comprime">comprime</a></code>.</p><p><strong>NB:</strong> A fun&#231;&#227;o <code><a href="Tarefa3_2018li1g003.html#v:comprime">comprime</a></code> &#233; v&#225;lida de for poss&#237;vel recupear o <code><a href="LI11819.html#t:Estado">Estado</a></code> utilizando a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g003.html#v:descomprime">descomprime</a></code>, i.e.:</p><pre>descomprime . comprime = id</pre><p><strong>NB:</strong> Esta propriedade &#233; particularmente v&#225;lida para a solu&#231;&#227;o pr&#233;-definida:</p><pre>read . show = id</pre></div></div><h1 id="g:5">MAPAS</h1><div class="top"><p class="src"><a id="v:auxComprimeMapa1" class="def">auxComprimeMapa1</a> :: <a href="LI11819.html#t:Peca">Peca</a> -&gt; Char <a href="#v:auxComprimeMapa1" class="selflink">#</a></p><div class="doc"><p>Funcao que associa uma <code><a href="LI11819.html#t:Peca">Peca</a></code> a um caracter com base nas tabelas ASCII. </p></div></div><div class="top"><p class="src"><a id="v:auxDescomprimeMapa1" class="def">auxDescomprimeMapa1</a> :: Char -&gt; <a href="LI11819.html#t:Peca">Peca</a> <a href="#v:auxDescomprimeMapa1" class="selflink">#</a></p><div class="doc"><p>Funcao que dado um caracter transforma numa <code><a href="LI11819.html#t:Peca">Peca</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:auxComprimeMapa2" class="def">auxComprimeMapa2</a> :: [<a href="LI11819.html#t:Peca">Peca</a>] -&gt; String <a href="#v:auxComprimeMapa2" class="selflink">#</a></p><div class="doc"><p>Funcao que usa <code><a href="Tarefa3_2018li1g003.html#v:auxComprimeMapa1">auxComprimeMapa1</a></code> recursivamente para transformar uma lista de <code><a href="LI11819.html#t:Peca">Peca</a></code>s numa lista de caracteres.</p></div></div><div class="top"><p class="src"><a id="v:auxDescomprimeMapa2" class="def">auxDescomprimeMapa2</a> :: String -&gt; [<a href="LI11819.html#t:Peca">Peca</a>] <a href="#v:auxDescomprimeMapa2" class="selflink">#</a></p><div class="doc"><p>Funcao que usa <code><a href="Tarefa3_2018li1g003.html#v:auxComprimeMapa2">auxComprimeMapa2</a></code> recursivamente para transformar uma lista de caracteres numa lista de <code><a href="LI11819.html#t:Peca">Peca</a></code>s. </p></div></div><div class="top"><p class="src"><a id="v:auxComprimeMapa3" class="def">auxComprimeMapa3</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; String <a href="#v:auxComprimeMapa3" class="selflink">#</a></p><div class="doc"><p>Funcao que dado um <code><a href="LI11819.html#t:Mapa">Mapa</a></code> (matriz de pecas) usa a funcao <code><a href="Tarefa3_2018li1g003.html#v:auxComprimeMapa2">auxComprimeMapa2</a></code> para comprimir as linhas e usando-a recursivamente comprime o <code><a href="LI11819.html#t:Mapa">Mapa</a></code>.
 (usamos um caracter especial <code>space</code> para separar as linhas.)</p></div></div><div class="top"><p class="src"><a id="v:tira1ocurrencia" class="def">tira1ocurrencia</a> :: Char -&gt; String -&gt; String <a href="#v:tira1ocurrencia" class="selflink">#</a></p><div class="doc"><p>Retira todos os caracteres ate encontrar o caracter passado no parametro de entrada, inclusive.</p></div></div><div class="top"><p class="src"><a id="v:auxDescomprimeMapa3" class="def">auxDescomprimeMapa3</a> :: String -&gt; <a href="LI11819.html#t:Mapa">Mapa</a> <a href="#v:auxDescomprimeMapa3" class="selflink">#</a></p><div class="doc"><p>Funcao que descomprme uma string para um <code><a href="LI11819.html#t:Mapa">Mapa</a></code>.</p></div></div><h1 id="g:6">JOGADORES</h1><div class="top"><p class="src"><a id="v:auxComprimeJog1" class="def">auxComprimeJog1</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; String <a href="#v:auxComprimeJog1" class="selflink">#</a></p><div class="doc"><p>Funcao que comprime um <code><a href="LI11819.html#t:Jogador">Jogador</a></code> numa <code>String</code>.</p></div></div><div class="top"><p class="src"><a id="v:auxDescomprimeJog1" class="def">auxDescomprimeJog1</a> :: String -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> <a href="#v:auxDescomprimeJog1" class="selflink">#</a></p><div class="doc"><p>Dado uma <code>String</code> retorna o <code><a href="LI11819.html#t:Jogador">Jogador</a></code> associado a mesma.</p></div></div><div class="top"><p class="src"><a id="v:auxComprimeJog2" class="def">auxComprimeJog2</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; String <a href="#v:auxComprimeJog2" class="selflink">#</a></p><div class="doc"><p>Dada uma lista de <code><a href="LI11819.html#t:Jogador">Jogador</a></code>es retorna uma <code>String</code>. 
 (separada por um caracter especial que serve para quando estivermos a descobrir sabermos onde termina o <code><a href="LI11819.html#t:Jogador">Jogador</a></code>)</p></div></div><div class="top"><p class="src"><a id="v:auxDescomprimeJog2" class="def">auxDescomprimeJog2</a> :: String -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] <a href="#v:auxDescomprimeJog2" class="selflink">#</a></p><div class="doc"><p>Dada uma <code>String</code> retorna a lista de <code><a href="LI11819.html#t:Jogador">Jogador</a></code>es associada a ela.</p></div></div><h1 id="g:7">DISPAROS</h1><div class="top"><p class="src"><a id="v:auxComprimeDisp1" class="def">auxComprimeDisp1</a> :: <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; String <a href="#v:auxComprimeDisp1" class="selflink">#</a></p><div class="doc"><p>Comprime um <code><a href="LI11819.html#t:Disparo">Disparo</a></code> numa <code>String</code> com caracteres baseados na tabela ASCII.</p></div></div><div class="top"><p class="src"><a id="v:tiratudopara1" class="def">tiratudopara1</a> :: Char -&gt; String -&gt; String <a href="#v:tiratudopara1" class="selflink">#</a></p><div class="doc"><p>Retira todos os caracteres da <code>String</code> depois da primeira ocorr&#234;ncia do caracter passado no parametro de entrada, este inclusive.</p></div></div><div class="top"><p class="src"><a id="v:descobre" class="def">descobre</a> :: String -&gt; Int <a href="#v:descobre" class="selflink">#</a></p><div class="doc"><p>Descobre as propriedades de um <code><a href="LI11819.html#t:Disparo">Disparo</a></code> devolvendo um inteiro.</p></div></div><div class="top"><p class="src"><a id="v:getDir" class="def">getDir</a> :: String -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> <a href="#v:getDir" class="selflink">#</a></p><div class="doc"><p>Obtem o caracter associado ao tipo <code><a href="LI11819.html#t:Direcao">Direcao</a></code> e retorna nesse tipo.</p></div></div><div class="top"><p class="src"><a id="v:auxDescomprimeDisp1" class="def">auxDescomprimeDisp1</a> :: String -&gt; <a href="LI11819.html#t:Disparo">Disparo</a> <a href="#v:auxDescomprimeDisp1" class="selflink">#</a></p><div class="doc"><p>Descomprime de uma <code>String</code> para um <code><a href="LI11819.html#t:Disparo">Disparo</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:auxComprimeDisp2" class="def">auxComprimeDisp2</a> :: [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; String <a href="#v:auxComprimeDisp2" class="selflink">#</a></p><div class="doc"><p>Comprime de uma lista de <code><a href="LI11819.html#t:Disparo">Disparo</a></code>s para uma <code>String</code>.</p></div></div><div class="top"><p class="src"><a id="v:auxDescomprimeDisp2" class="def">auxDescomprimeDisp2</a> :: String -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] <a href="#v:auxDescomprimeDisp2" class="selflink">#</a></p><div class="doc"><p>Descomprime de uma <code>String</code> para uma lista de <code><a href="LI11819.html#t:Disparo">Disparo</a></code>s.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>